<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <meta name="description" content="SmartSpendingAI â€“ Your AI-powered budgeting coach">
  <title>SmartSpendingAI ðŸ’°</title>
  <link rel="icon" href="https://cdn-icons-png.flaticon.com/512/3135/3135715.png">
  <link rel="stylesheet" href="style.css">
  <style>
    /* Quick overridesâ€”feel free to move to style.css */
    :root {
      --primary: #008080;        /* teal */
      --accent: #ff7f50;         /* coral */
      --bg-light: #f0f8f8;
      --text-dark: #333;
    }
    body {
      margin:0;
      font-family: 'Segoe UI', sans-serif;
      background: var(--bg-light);
      color: var(--text-dark);
      line-height:1.5;
    }
    header {
      position: relative;
      text-align: center;
      padding: 2rem 1rem;
      background: var(--primary);
      color: #fff;
    }
    .badge {
      position:absolute;
      left:1.5rem; top:1.5rem;
      background: var(--accent);
      color:#fff;
      padding:.3rem .6rem;
      border-radius: .5rem;
      font-size: .85rem;
      font-weight: bold;
    }
    header img {
      width:120px; height:120px;
      border-radius: 50%;
      box-shadow:0 2px 12px rgba(0,0,0,0.2);
      margin-bottom: .5rem;
    }
    header p {
      margin:.5rem 0 1rem;
      font-size:1.1rem;
    }
    nav a {
      margin: 0 .8rem;
      color:#fff;
      text-decoration:none;
      font-weight:500;
    }
    nav a:hover {
      text-decoration: underline;
    }
    main {
      padding:2rem 1rem;
      max-width:700px;
      margin:auto;
    }
    h2, h3 {
      color: var(--primary);
    }
    #chatbot-section {
      background:#fff;
      padding:1.5rem;
      border-radius:1rem;
      box-shadow:0 2px 12px rgba(0,0,0,0.05);
      margin:2rem 0;
    }
    #chat-messages {
      min-height:150px;
      margin-bottom:1rem;
      overflow-y:auto;
      max-height:300px;
    }
    .chat-msg {
      padding:.6rem 1rem;
      border-radius:.8rem;
      margin-bottom:.6rem;
      word-break:break-word;
    }
    .chat-msg.user {
      background: var(--accent);
      color:#fff;
      text-align:right;
    }
    .chat-msg.bot {
      background: #e0f7f7;
      text-align:left;
    }
    #chat-form {
      display:flex;
      gap:.5rem;
    }
    #chat-input {
      flex:1;
      padding:.6rem .8rem;
      border:1px solid #ccc;
      border-radius:.8rem;
      outline:none;
    }
    #chat-input:focus { border-color: var(--primary); }
    #chat-form button {
      background: var(--primary);
      color:#fff;
      border:none;
      border-radius:.8rem;
      padding:.6rem 1.2rem;
      font-weight:600;
      cursor:pointer;
    }
    #chat-error { color:#ff3333; font-size:.9rem; margin-top:.5rem; }
    footer {
      text-align:center;
      padding:1rem;
      background: var(--primary);
      color:#fff;
      font-size:.9rem;
    }
  </style>
</head>
<body>

  <header>
    <span class="badge">Beta</span>
    <img src="https://cdn-icons-png.flaticon.com/512/3135/3135715.png" alt="SmartSpendingAI Logo">
    <p><strong>SmartSpendingAI</strong> â€” Your AI Budget Coach</p>
    <nav>
      <a href="#chatbot-section">Chat</a>
      <a href="#about">About</a>
      <a href="#team">Team</a>
    </nav>
  </header>

  <main>
    <section id="chatbot-section">
      <h2>ðŸ’¬ Chat with SmartSpendingAI</h2>
      <div id="chat-messages"></div>
      <form id="chat-form">
        <input id="chat-input" type="text" placeholder="e.g. How do I budget S$800?" required />
        <button type="submit">Send</button>
      </form>
      <div id="chat-error"></div>
    </section>

    <section id="about">
      <h3>About SmartSpendingAI</h3>
      <p>
        SmartSpendingAI helps you plan your monthly budget using the 50/30/20 rule or custom splits.
        Simply tell it your income and spending goalsâ€”and get instant, friendly advice!
      </p>
    </section>

    <section id="team">
      <h3>Meet the Team</h3>
      <p>
        Part of a 5â€‘member Budget AI project covering budgeting, saving, investing, insurance, and tracking.
        This Smart Spending module is brought to you by <strong>Viniey</strong>.
      </p>
    </section>
  </main>

  <footer>
    &copy; 2025 SmartSpendingAI. All rights reserved.
  </footer>

  <script>
    // Replace with your actual chatflow prediction endpoint
    const API_URL = "https://viniey-flowise.hf.space/api/v1/prediction/5c480c3e-988b-472b-9ae5-63363c3a148b";

    async function queryChatflow(question) {
      const res = await fetch(API_URL, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ question })
      });
      return res.json();
    }

    document.getElementById("chat-form").addEventListener("submit", async e => {
      e.preventDefault();
      const inputEl = document.getElementById("chat-input");
      const msg = inputEl.value.trim();
      if (!msg) return;
      const container = document.getElementById("chat-messages");
      // user message
      container.innerHTML += `<div class="chat-msg user">${msg}</div>`;
      inputEl.value = "";
      document.getElementById("chat-error").textContent = "";
      // bot placeholder
      container.innerHTML += `<div class="chat-msg bot">Thinking...</div>`;
      container.scrollTop = container.scrollHeight;
      try {
        const { text } = await queryChatflow(msg);
        // replace placeholder
        const bots = container.querySelectorAll(".chat-msg.bot");
        bots[bots.length - 1].innerHTML = text || "No response";
      } catch (err) {
        document.getElementById("chat-error").textContent = "Error contacting AI.";
      }
      container.scrollTop = container.scrollHeight;
    });
  </script>

</body>
</html>
